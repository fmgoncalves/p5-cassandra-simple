<!DOCTYPE html>
<html>
<head>
  <meta charset='utf-8'>

  <title>fmgoncalves/p5-cassandra-simple @ GitHub</title>

  <style type="text/css">
    body {
      margin-top: 1.0em;
      background-color: #ffffff;
      font-family: Helvetica, Arial, FreeSans, san-serif;
      color: #000000;
    }
    #container {
      margin: 0 auto;
      width: 700px;
    }
    h1 { font-size: 3.8em; color: #000000; margin-bottom: 3px; }
    h1 .small { font-size: 0.4em; }
    h1 a { text-decoration: none }
    h2 { font-size: 1.5em; color: #000000; }
    h3 { text-align: center; color: #000000; }
    a { color: #000000; }
    .description { font-size: 1.2em; margin-bottom: 30px; margin-top: 30px; font-style: italic;}
    .download { float: right; }
    pre { background: #000; color: #fff; padding: 15px;}
    hr { border: 0; width: 80%; border-bottom: 1px solid #aaa}
    .footer { text-align:center; padding-top:30px; font-style: italic; }
  </style>

  <link rel="stylesheet" type="text/css" title="pod_stylesheet" href="http://search.cpan.org/s/style.css">

<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-24615629-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
</head>

<body >
  <a href="http://github.com/fmgoncalves/p5-cassandra-simple"><img style="position: absolute; top: 0; right: 0; border: 0;" src="http://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png" alt="Fork me on GitHub" /></a>

  <div id="container">

    <div class="download">
      <a href="http://github.com/fmgoncalves/p5-cassandra-simple/zipball/master">
        <img border="0" width="90" src="http://github.com/images/modules/download/zip.png"></a>
      <a href="http://github.com/fmgoncalves/p5-cassandra-simple/tarball/master">
        <img border="0" width="90" src="http://github.com/images/modules/download/tar.png"></a>
    </div>

    <h1><a href="http://github.com/fmgoncalves/p5-cassandra-simple">p5-cassandra-simple</a>
      <span class="small">by <a href="http://github.com/fmgoncalves">fmgoncalves</a></span></h1>

    <div class="description">
      Cassandra::Simple Perl Module - Easy to use, Perl oriented client interface to Apache Cassandra.
    </div>

<div class='pod'>

<!--
  generated by Pod::Simple::HTML v3.03,
  using Pod::Simple::PullParser v2.02,
  under Perl v5.010001 at Mon Jul 18 17:49:23 2011 GMT.

 If you want to change this HTML document, you probably shouldn't do that
   by changing it directly.  Instead, see about changing the calling options
   to Pod::Simple::HTML, and/or subclassing Pod::Simple::HTML,
   then reconverting this document from the Pod source.
   When in doubt, email the author of Pod::Simple::HTML for advice.
   See 'perldoc Pod::Simple::HTML' for more info.

-->

<!-- start doc -->
<div name="index">
<p><a name="__index__"></a></p>

<ul>

  <li><a href="#name">NAME</a></li>
	<li><a href="#version">VERSION</a></li>
	<li><a href="#description">DESCRIPTION</a></li>
	<li><a href="#synopsys">SYNOPSYS</a></li>
	<ul>

		<li><a href="#get">get</a></li>
		<li><a href="#multiget">multiget</a></li>
		<li><a href="#get_count">get_count</a></li>
		<li><a href="#multiget_count">multiget_count</a></li>
		<li><a href="#get_range">get_range</a></li>
		<li><a href="#get_indexed_slices">get_indexed_slices</a></li>
		<li><a href="#insert">insert</a></li>
		<li><a href="#insert_super">insert_super</a></li>
		<li><a href="#batch_insert">batch_insert</a></li>
		<li><a href="#remove">remove</a></li>
		<li><a href="#list_keyspace_cfs">list_keyspace_cfs</a></li>
		<li><a href="#create_column_family">create_column_family</a></li>
		<li><a href="#create_index">create_index</a></li>
		<li><a href="#ring">ring</a></li>
	</ul>

	<li><a href="#bugs">BUGS</a></li>
	<li><a href="#todo">TODO</a></li>
	<li><a href="#acknowledgements">ACKNOWLEDGEMENTS</a></li>
	<li><a href="#author">AUTHOR</a></li>
	<li><a href="#copyright_and_license">COPYRIGHT AND LICENSE</a></li>
</ul>

<hr name="index" />
</div>
<!-- INDEX END -->

/usr/bin/pod2html: lib/Cassandra/Simple.pm: unknown pod directive 'encoding' in paragraph 3.  ignoring.
<p>
</p>
<hr />
<h1><a name="name">NAME</a></h1>
<p>Cassandra::Simple</p>
<p>
</p>
<hr />
<h1><a name="version">VERSION</a></h1>
<p>version 0.1</p>
<p>
</p>
<hr />
<h1><a name="description">DESCRIPTION</a></h1>
<p>Easy to use, Perl oriented client interface to Apache Cassandra.</p>
<p>This module attempts to abstract the underlying Thrift methods as much as possible to allow any Perl developer a small learning curve when using Cassandra.</p>
<p>
</p>
<hr />
<h1><a name="synopsys">SYNOPSYS</a></h1>
<pre>
        my ($keyspace, $column_family) = qw/simple simple/;</pre>
<pre>
        my $conn = Cassandra::Simple-&gt;new(keyspace =&gt; $keyspace,);</pre>
<pre>
        $conn-&gt;create_column_family( $keyspace, $column_family);</pre>
<pre>
        $conn-&gt;insert($column_family, 'KeyA', [ [ 'ColumnA' =&gt; 'AA' ], [ 'ColumnB' =&gt; 'AB' ] ] );</pre>
<pre>
        $conn-&gt;get($column_family, 'KeyA');
        $conn-&gt;get($column_family, 'KeyA', { columns =&gt; [ qw/ColumnA/ ] });
        $conn-&gt;get($column_family, 'KeyA', { column_count =&gt; 1, column_reversed =&gt; 1 });</pre>
<pre>
        $conn-&gt;batch_insert($column_family, { 'KeyB' =&gt; [ [ 'ColumnA' =&gt; 'BA' ] , [ 'ColumnB' =&gt; 'BB' ] ], 'KeyC' =&gt; [ [ 'ColumnA' =&gt; 'CA' ] , [ 'ColumnD' =&gt; 'CD' ] ] });</pre>
<pre>
        $conn-&gt;multiget($column_family, [qw/KeyA KeyC/]);</pre>
<pre>
        $conn-&gt;get_range($column_family, { start=&gt; 'KeyA', finish =&gt; 'KeyB', column_count =&gt; 1 });
        $conn-&gt;get_range($column_family);</pre>
<pre>
        $conn-&gt;get_indexed_slices($column_family, { expression_list =&gt; [ [ 'ColumnA' =&gt; 'BA' ] ] });</pre>
<pre>
        $conn-&gt;remove($column_family, [ 'KeyA' ], { columns =&gt; [ 'ColumnA' ]});
        $conn-&gt;remove($column_family, [ 'KeyA' ]);
        $conn-&gt;remove($column_family);</pre>
<pre>
        $conn-&gt;get_count($column_family, 'KeyA');
        $conn-&gt;multiget_count($column_family, [ 'KeyB', 'KeyC' ]);</pre>
<p>
</p>
<h2><a name="get">get</a></h2>
<p>Usage: <code>get($column_family, $key[, opt])</code></p>
<p><code>$opt</code> is a <em>HASH</em> and can have the following keys:</p>
<p>columns, column_start, column_finish, column_count, column_reversed, super_column, consistency_level_read</p>
<p>Returns an HASH of the form <code>{ column =&gt; value, column =&gt; value }</code></p>
<p>
</p>
<h2><a name="multiget">multiget</a></h2>
<p>Usage: <code>multiget($column_family, $keys[, opt])</code></p>
<p><code>$keys</code> should be an <em>ARRAYREF</em> of keys to fetch.</p>
<p>All parameters in <code>$opt</code> are the same as in <code>get()</code></p>
<p>Returns an HASH of the form <code>{ key =&gt; { column =&gt; value, column =&gt; value }, key =&gt; { column =&gt; value, column =&gt; value } }</code></p>
<p>
</p>
<h2><a name="get_count">get_count</a></h2>
<p>Usage: <code>get_count($column_family, $key[, opt])</code></p>
<p><code>$opt</code> is a <em>HASH</em> and can have the following keys:</p>
<p>columns, column_start, column_finish, super_column, consistency_level_read</p>
<p>Returns the count as an int</p>
<p>
</p>
<h2><a name="multiget_count">multiget_count</a></h2>
<p>Usage: <code>multiget_count($column_family, $keys[, opt])</code></p>
<p><code>$keys</code> should be an <em>ARRAYREF</em> of keys.</p>
<p>All parameters in <code>$opt</code> are the same as in <code>get_count()</code></p>
<p>Returns a mapping of <code>key -&gt; count</code></p>
<p>
</p>
<h2><a name="get_range">get_range</a></h2>
<p>Usage: <code>get_range( $column_family[, opt])</code></p>
<p><code>$opt</code> is a <em>HASH</em> and can have the following keys:</p>
<p>start, finish, columns, column_start, column_finish, column_reversed, column_count, row_count, super_column, consistency_level_read</p>
<p>Returns an <em>HASH</em> of the form <code>{ key =&gt; { column =&gt; value, column =&gt; value }, key =&gt; { column =&gt; value, column =&gt; value } }</code></p>
<p>
</p>
<h2><a name="get_indexed_slices">get_indexed_slices</a></h2>
<p>Usage: <code>get_indexed_slices($column_family, $index_clause[, opt])</code></p>
<p><code>$index_clause</code> is an <em>HASH</em> containing the following keys:</p>
<p>expression_list, start_key, row_count</p>
<p>The <em>expression_list</em> is an <em>ARRAYREF</em> of the form <code>[ [ column =&gt; value ] ]</code></p>
<p><code>$opt</code> is an <em>HASH</em> and can have the following keys:</p>
<p>columns, column_start, column_finish, column_reversed, column_count, consistency_level_read</p>
<p>Returns an <em>HASH</em> of the form <code>{ key =&gt; { column =&gt; value, column =&gt; value }, key =&gt; { column =&gt; value, column =&gt; value } }</code></p>
<p>
</p>
<h2><a name="insert">insert</a></h2>
<p>Usage: <code>insert($column_family, $key, $columns[, opt])</code></p>
<p>The <code>$columns</code> is an <em>HASHREF</em> of the form <code>{ column =&gt; value, column =&gt; value }</code></p>
<p><code>$opt</code> is an <em>HASH</em> and can have the following keys:</p>
<p>timestamp, ttl, consistency_level_write</p>
<p>
</p>
<h2><a name="insert_super">insert_super</a></h2>
<p>Usage: <code>insert_super($column_family, $key, $columns[, opt])</code></p>
<p>The <code>$columns</code> is an <em>HASH</em> of the form <code>{ super_column =&gt; { column =&gt; value, column =&gt; value } }</code></p>
<p><code>$opt</code> is an <em>HASH</em> and can have the following keys:</p>
<p>timestamp, ttl, consistency_level_write</p>
<p>
</p>
<h2><a name="batch_insert">batch_insert</a></h2>
<p>Usage: <code>batch_insert($column_family, $rows[, opt])</code></p>
<p><code>$rows</code> is an <em>HASH</em> of the form <code>{ key =&gt; { column =&gt; value , column =&gt; value }, key =&gt; { column =&gt; value , column =&gt; value } }</code></p>
<p><code>$opt</code> is an <em>HASH</em> and can have the following keys:</p>
<p>timestamp, ttl, consistency_level_write</p>
<p>
</p>
<h2><a name="remove">remove</a></h2>
<p>Usage: <code>remove($column_family[, $keys][, opt])</code></p>
<p><code>$keys</code> is a key or an <em>ARRAY</em> of keys to be deleted.</p>
<p>A removal whitout keys truncates the whole column_family.</p>
<p><code>$opt</code> is an <em>HASH</em> and can have the following keys:</p>
<p>columns, super_column, write_consistency_level</p>
<p>The timestamp used for remove is returned.</p>
<p>
</p>
<h2><a name="list_keyspace_cfs">list_keyspace_cfs</a></h2>
<p>Usage: <code>list_keyspace_cfs($keyspace)</code></p>
<p>Returns an HASH of <code>{ column_family_name =&gt; column_family_type }</code> where column family type is either <code>Standard</code> or <code>Super</code></p>
<p>
</p>
<h2><a name="create_column_family">create_column_family</a></h2>
<p>Usage <code>create_column_family($keyspace, $column_family[, $is_super][, $comment])</code></p>
<p><code>$is_super</code> is a boolean indicating if this is a Standard or Super Column Family.</p>
<p>
</p>
<h2><a name="create_index">create_index</a></h2>
<p>Usage: <code>create_index($keyspace, $column_family, $column, [$validation_class])</code></p>
<p>Creates an index on <code>$column</code> of <code>$column_family</code>.</p>
<p><code>$validation_class</code> only applies when <code>$column</code> doesn't yet exist, and even then it is optional (defaults to <em>BytesType</em>).</p>
<p>
</p>
<h2><a name="ring">ring</a></h2>
<p>Usage: <code>ring($keyspace)</code></p>
<p>Lists the addresses of all nodes on the cluster associated with the keyspace <code>&lt;$keyspace</code>&gt;.</p>
<p>
</p>
<hr />
<h1><a name="bugs">BUGS</a></h1>
<p>Bugs should be reported on github at <a href="https://github.com/fmgoncalves/p5-cassandra-simple">https://github.com/fmgoncalves/p5-cassandra-simple</a>.</p>
<p>
</p>
<hr />
<h1><a name="todo">TODO</a></h1>
<p><strong>Error Handling</strong></p>
<p>Exceptions raised when calling Cassandra code should be report in error form with appropriate description.</p>
<p><strong>Unit Tests</strong></p>
<p>Sort of done in the examples folder
<a href="https://github.com/fmgoncalves/p5-cassandra-simple/tree/master/examples">https://github.com/fmgoncalves/p5-cassandra-simple/tree/master/examples</a></p>
<p><strong>Tombstones</strong></p>
<p>get, get_range and get_indexed_slices should probably filter out tombstones, even if it means returning less than the requested count.
Ideally it would retry until it got enough results.</p>
<p><strong>Methods</strong></p>
<p>The following are Thrift methods left unimplemented.</p>
<p>Not all of these will be implemented, since some aren't useful to the common developer.</p>
<p>Priority will be given to live schema updating methods.</p>
<p>describe_cluster_name</p>
<p>string <code>describe_cluster_name()</code></p>
<p>describe_keyspace</p>
<p>KsDef describe_keyspace(string keyspace)</p>
<p>describe_keyspaces</p>
<p>list&lt;KsDef&gt; <code>describe_keyspaces()</code></p>
<p>describe_partitioner</p>
<p>string <code>describe_partitioner()</code></p>
<p>describe_snitch</p>
<p>string <code>describe_snitch()</code></p>
<p>describe_version</p>
<p>string <code>describe_version()</code></p>
<p>system_drop_column_family</p>
<p>string system_drop_column_family(ColumnFamily column_family)</p>
<p>system_add_keyspace</p>
<p>string system_add_keyspace(KSDef ks_def)</p>
<p>system_drop_keyspace</p>
<p>string system_drop_keyspace(string keyspace)</p>
<p>
</p>
<hr />
<h1><a name="acknowledgements">ACKNOWLEDGEMENTS</a></h1>
<p>Implementation based on Cassandra::Lite.</p>
<p><a href="http://search.cpan.org/~gslin/Cassandra-Lite-0.0.4/lib/Cassandra/Lite.pm">http://search.cpan.org/~gslin/Cassandra-Lite-0.0.4/lib/Cassandra/Lite.pm</a></p>
<p>API based on Pycassa.</p>
<p><a href="http://pycassa.github.com/pycassa/">http://pycassa.github.com/pycassa/</a></p>
<p>
</p>
<hr />
<h1><a name="author">AUTHOR</a></h1>
<p>Filipe Gonçalves <code>&lt;the.wa.syndrome@gmail&gt;</code></p>
<p>
</p>
<hr />
<h1><a name="copyright_and_license">COPYRIGHT AND LICENSE</a></h1>
<p>This software is copyright (c) 2011 by Filipe Gonçalves.</p>
<p>This is free software; you can redistribute it and/or modify it under the same terms as the Perl 5 programming language system itself.</p>

<!-- end doc -->
</div>

<h2>Download</h2>
    <p>
      You can download this project in either
      <a href="http://github.com/fmgoncalves/p5-cassandra-simple/zipball/master">zip</a> or
      <a href="http://github.com/fmgoncalves/p5-cassandra-simple/tarball/master">tar</a> formats.
    </p>
    <p>You can also clone the project with <a href="http://git-scm.com">Git</a>
      by running:
      <pre>$ git clone git://github.com/fmgoncalves/p5-cassandra-simple</pre>
    </p>

    <div class="footer">
      get the source code on GitHub : <a href="http://github.com/fmgoncalves/p5-cassandra-simple">fmgoncalves/p5-cassandra-simple</a>
    </div>

  </div>
  
</body>
</html>
